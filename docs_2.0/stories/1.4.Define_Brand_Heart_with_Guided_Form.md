# Story 1.4: Define Brand Heart with Guided Form

## Status: Done

## Story
**As a Conscious Creator,** I want a guided form to input the core elements of my brand's soul, **so that** the AI has a deep understanding of my essence for all future content creation.

## Acceptance Criteria
1.  A dedicated "Brand Heart" page is created and is a protected route.
2.  The page contains a form with fields for key brand elements (e.g., Brand Name, brand Brief, Mission, Vision, Values, Tone of Voice).
3.  The user can save the form content, and it is stored in the database.
4.  If a secondary language is configured, the form displays fields for both languages side-by-side.
5.  For each field, an "Auto-translate" button is present. When clicked, the AI translates the content from the primary language field into the secondary language field, which the user can then edit.
6.  The saved brand essence is displayed clearly on the page after being saved.

## Tasks / Subtasks
- [x] **Task 1: Create Brand Heart Page and Form (AC: 1, 2)**
    - [x] Create a new protected route and page component at `src/app/brand-heart`.
    - [x] Build the form with all necessary fields for the brand elements.
- [x] **Task 2: Implement Save Logic (AC: 3, 6)**
    - [x] Create a Supabase migration for the `brand_heart` table.
    - [x] Implement the server action to save the form data to the database.
    - [x] Display the saved data on the page after successful submission.
- [x] **Task 3: Implement Bilingual and Translation Features (AC: 4, 5)**
    - [x] Add logic to the component to conditionally render secondary language fields.
    - [x] Create a Supabase Edge Function to handle the translation request to the Gemini API.
    - [x] Implement the client-side logic for the "Auto-translate" button to call the Edge Function.

## Dev Notes
*   The RAG system to help pre-fill this form will be handled in a future story.
*   Ensure the translation function provides user feedback during the API call (e.g., loading state) and handles potential errors.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-08-12 | 1.0 | Initial Draft | Sarah (PO) |

## Dev Agent Record
### Agent Model Used
_TBD_

### Debug Log References
_TBD_

### Completion Notes List
_TBD_

### File List
_TBD_

## QA Results
_TBD_
