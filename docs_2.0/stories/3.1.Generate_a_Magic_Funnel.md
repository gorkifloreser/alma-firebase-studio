# Story 3.1: Generate a Magic Funnel

## Status: Pending

## Story
**As a Conscious Creator,** I want to select an "Offering" and generate a complete marketing funnel for it with one click, **so that** I can create a coherent customer journey without manual setup.

## Acceptance Criteria
1.  On the detail page for an "Offering", there is a "Generate Funnel" button.
2.  Clicking the button triggers the AI to generate a landing page and a simple 3-step follow-up sequence (for email or WhatsApp).
3.  The generated assets are based on the Brand Heart, the Offering details, and its contextual notes.
4.  If bilingual, all assets (landing page copy, follow-up messages) are generated in both languages.
5.  The user is presented with a view showing the generated landing page and the follow-up sequence.

## Tasks / Subtasks
- [ ] **Task 1: Implement "Generate Funnel" Feature (AC: 1, 2)**
    - [ ] Add the "Generate Funnel" button to the offering detail page.
    - [ ] Create a Supabase Edge Function to orchestrate the funnel generation.
- [ ] **Task 2: Implement AI Content Generation (AC: 3, 4)**
    - [ ] The Edge Function will call the Gemini API to generate the landing page and follow-up sequence content.
    - [ ] Ensure the function handles bilingual generation.
- [ ] **Task 3: Display Generated Funnel (AC: 5)**
    - [ ] Create a new page or modal to display the generated funnel to the user.

## Dev Notes
*   The generated funnel assets should be stored in new tables (`funnels`, `funnel_steps`). Remember to create migrations.
*   This is a core AI feature; ensure the prompts sent to the Gemini API are well-structured and include all necessary context.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-08-12 | 1.0 | Initial Draft | Sarah (PO) |
